////////////////////////////////////////////////////////////////////////
// Module:				Blitzprog.Exception
// Author:				Eduard Urbach
// Description:			Exception class
////////////////////////////////////////////////////////////////////////

#ifndef BLITZPROG_EXCEPTION_HPP_
#define BLITZPROG_EXCEPTION_HPP_

////////////////////////////////////////////////////////////////////////
// Includes
////////////////////////////////////////////////////////////////////////

//Modules
#include <Blitzprog/header.hpp>
#include <Blitzprog/Core/Core.hpp>

////////////////////////////////////////////////////////////////////////
// Constants
////////////////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////
// Classes
////////////////////////////////////////////////////////////////////////

//OpenGLTexture
class TException;
typedef SharedPtr<TException> Exception;
class TException: public TPrintable
{
	public:
		
		////////////////////////////////////////////////////////////////////////
		// Constructors and destructors
		////////////////////////////////////////////////////////////////////////
		
		//Constructor
		TException(const String &nMsg, const String &nFile, size_t nLine) : msg(nMsg), file(nFile), line(nLine)
		{
			//Debug info
			EngineLogNew("Exception");
		}
		
		//Destructor
		virtual ~TException()
		{
			//Debug info
			EngineLogDelete("Exception");
		}
		
		////////////////////////////////////////////////////////////////////////
		// Operators
		////////////////////////////////////////////////////////////////////////
		
		
		
		////////////////////////////////////////////////////////////////////////
		// Casts
		////////////////////////////////////////////////////////////////////////
		
		
		
		////////////////////////////////////////////////////////////////////////
		// Methods
		////////////////////////////////////////////////////////////////////////
		
		
		
		////////////////////////////////////////////////////////////////////////
		// Inline methods
		////////////////////////////////////////////////////////////////////////
		
		//GetMessage
		inline const String &GetMessage()
		{
			return msg;
		}
		
	protected:
		String msg;
		String file;
		size_t line;
};
#define CreateException new TException

////////////////////////////////////////////////////////////////////////
// Variables
////////////////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////
// Functions
////////////////////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////
// Inline functions
////////////////////////////////////////////////////////////////////////



#endif // BLITZPROG_EXCEPTION_HPP_
